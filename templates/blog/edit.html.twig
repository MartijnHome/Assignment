{% extends 'base.html.twig' %}

{% block title %}Edit Blog{% endblock %}

{% block content %}
    <div {{
    vue_component('Blog', {
        'title' : blog.title,
        'subTitle' : blog.subTitle,
        'text' : blog.text,
        'blogId' : blog.id,
        'token' : csrf_token('delete'),
        'path' : absolute_url(path('app_home') ) ~ 'uploads/blog/image/',
        'deleteUrl' : absolute_url(path('api_image_delete', { 'id' : 0})),
        'images' : images,
        'editMode' : true,
        'lead' : blog.getLead().getFilename(),
        'date' : blog.publishDate ? blog.publishDate|date('Y-m-d H:i:s') : ''
    })
    }}>
    </div>

    {% for flash_error in app.flashes('upload_error') %}
        <div class="alert alert-danger" role="alert">{{ flash_error }}</div>
    {% endfor %}

    {{ include('blog/_form.html.twig', {'button_label': 'Update'}) }}

    <a href="{{ path('app_account') }}">Back to account page</a>

{% endblock %}
