{% extends 'base.html.twig' %}

{% block title %}Edit Blog{% endblock %}

{% block content %}
    <p> {{  blog.publishDate ? blog.publishDate|date('d F Y') : '' }}</p>
    <div {{
    vue_component('Blog', {
        'blogId' : blog.id,
        'token' : csrf_token('edit-item'),
        'deleteUrl' : absolute_url(path('api_image_delete', { 'id' : 0})),
        'editMode' : true,
        'lead' : blog.getLead().getFilename(),
        'json' : json,
    })
    }}>
    </div>

    {% for flash_error in app.flashes('upload_error') %}
        <div class="alert alert-danger" role="alert">{{ flash_error }}</div>
    {% endfor %}

    {{ include('blog/_form.html.twig', {'button_label': 'Update'}) }}

    <a href="{{ path('app_account') }}">Back to account page</a>

{% endblock %}
