{% extends 'base.html.twig' %}

{% block title %}Blog{% endblock %}

{% block content %}
    <img class="h-80 w-full rounded-2xl rounded-2xl"
         src="{{ asset('uploads/blog/image/' ~ blog.getMainImage()) }}"
    >

    <h1 class="text-2xl my-2">
        {{ blog.title }}
    </h1>

    <h2 class="text-lg my-2">
        {{ blog.subtitle }}
    </h2>

    <p>
        Gemaakt door {{ blog.user.name}} op {{ blog.publishDate ? blog.publishDate|date('Y-m-d H:i:s') : '' }}
    </p>

    <p class="my-4">
        {{ blog.text }}
    </p>

    {% if blog.getAdditionalImages() is not null %}
        <a href="{{ asset('uploads/blog/image/' ~ blog.getAdditionalImages()) }}"
           target="_blank"
        >
            <img class="h-80 w-full rounded-2xl rounded-2xl"
                 src="{{ asset('uploads/blog/image/' ~ blog.getAdditionalImages()) }}"
            >
        </a>

    {% endif %}

    <h1>Comments</h1>
    <table class="my-4">
        {% for commentary in commentaries %}
            <tr>
                <td>{{ commentary.user.name }}</td>
                <td>{{ commentary.text }}</td>
                <td>
                    <a href="{{ path('app_commentary_edit', {'id': commentary.id}) }}">edit</a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="3">no records found</td>
            </tr>
        {% endfor %}




    </table>


    <h1>Create new Commentary</h1>
    {{ form(commentary_form) }}
    <a href="{{ path('app_blog_index') }}">back to list</a>

    <a href="{{ path('app_blog_edit', {'id': blog.id}) }}">edit</a>

    {{ include('blog/_delete_form.html.twig') }}
{% endblock %}
