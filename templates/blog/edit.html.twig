{% extends 'base.html.twig' %}

{% block title %}Edit Blog{% endblock %}

{% block content %}
    <h1 class="text-2xl mb-10">Blog Editor</h1>

    <img class="h-80 w-full rounded-2xl rounded-2xl"
         src="{{ asset('uploads/blog/image/' ~ blog.getLead().getFilename()) }}"
    >

    <div {{
    vue_component('Blog', {
        'title' : blog.title,
        'subTitle' : blog.subTitle,
        'text' : blog.text,
        'blogId' : blog.id,
        'token' : csrf_token('delete'),
        'path' : absolute_url(path('app_home') ) ~ 'uploads/blog/image/',
        'deleteUrl' : absolute_url(path('api_image_delete', { 'id' : 0})),
        'images' : images,
        'editMode' : true
    })
    }}>
    </div>

    {% for flash_error in app.flashes('upload_error') %}
        <div class="alert alert-danger" role="alert">{{ flash_error }}</div>
    {% endfor %}

    {{ include('blog/_form.html.twig', {'button_label': 'Update'}) }}

    <a href="{{ path('app_account') }}">Back to account page</a>

{% endblock %}
